@prefix rdf: <http://www.w3.org/1999/02/22-rdf-syntax-ns#> .
@prefix rdfs: <http://www.w3.org/2000/01/rdf-schema#> .
@prefix owl: <http://www.w3.org/2002/07/owl#> .
@prefix xsd: <http://www.w3.org/2001/XMLSchema#> .
@prefix swrl: <http://www.w3.org/2003/11/swrl#> .
@prefix swrlb: <http://www.w3.org/2003/11/swrlb#> .
@prefix tourism: <http://example.org/tourism#> .
@prefix rules: <http://example.org/rules#> .

# Forward-Chaining Reasoning Rules for Tourism Domain
# SWRL rules for materializing higher-level concepts and detecting contradictions

# Rule 1: Coastal Attraction Rule
# Attraction in CoastalCity => CoastalAttraction
rules:CoastalAttractionRule rdf:type swrl:Imp ;
    swrl:body [
        rdf:type swrl:AtomList ;
        swrl:first [
            rdf:type swrl:IndividualAtom ;
            swrl:argument1 tourism:attraction ;
            swrl:argument2 tourism:Attraction
        ] ;
        swrl:rest [
            rdf:type swrl:AtomList ;
            swrl:first [
                rdf:type swrl:IndividualAtom ;
                swrl:argument1 tourism:city ;
                swrl:argument2 tourism:CoastalCity
            ] ;
            swrl:rest [
                rdf:type swrl:AtomList ;
                swrl:first [
                    rdf:type swrl:ObjectPropertyAtom ;
                    swrl:argument1 tourism:attraction ;
                    swrl:argument2 tourism:city ;
                    swrl:argument3 tourism:locatedIn
                ] ;
                swrl:rest rdf:nil
            ]
        ]
    ] ;
    swrl:head [
        rdf:type swrl:AtomList ;
        swrl:first [
            rdf:type swrl:IndividualAtom ;
            swrl:argument1 tourism:attraction ;
            swrl:argument2 tourism:CoastalAttraction
        ] ;
        swrl:rest rdf:nil
    ] .

# Rule 2: Family Friendly Playground Rule
# Attraction with Playground amenity => FamilyFriendlyAttraction
rules:FamilyFriendlyPlaygroundRule rdf:type swrl:Imp ;
    swrl:body [
        rdf:type swrl:AtomList ;
        swrl:first [
            rdf:type swrl:IndividualAtom ;
            swrl:argument1 tourism:attraction ;
            swrl:argument2 tourism:Attraction
        ] ;
        swrl:rest [
            rdf:type swrl:AtomList ;
            swrl:first [
                rdf:type swrl:DatavaluedPropertyAtom ;
                swrl:argument1 tourism:attraction ;
                swrl:argument2 tourism:amenity ;
                swrl:argument3 tourism:hasAmenity
            ] ;
            swrl:rest [
                rdf:type swrl:AtomList ;
                swrl:first [
                    rdf:type swrl:BuiltinAtom ;
                    swrl:argument1 tourism:amenity ;
                    swrl:argument2 "Playground" ;
                    swrl:argument3 swrlb:equal
                ] ;
                swrl:rest rdf:nil
            ]
        ]
    ] ;
    swrl:head [
        rdf:type swrl:AtomList ;
        swrl:first [
            rdf:type swrl:IndividualAtom ;
            swrl:argument1 tourism:attraction ;
            swrl:argument2 tourism:FamilyFriendlyAttraction
        ] ;
        swrl:rest rdf:nil
    ] .

# Rule 3: Not Family Friendly Age Rule
# Attraction with MinAge > 12 => NotFamilyFriendlyAttraction
rules:NotFamilyFriendlyAgeRule rdf:type swrl:Imp ;
    swrl:body [
        rdf:type swrl:AtomList ;
        swrl:first [
            rdf:type swrl:IndividualAtom ;
            swrl:argument1 tourism:attraction ;
            swrl:argument2 tourism:Attraction
        ] ;
        swrl:rest [
            rdf:type swrl:AtomList ;
            swrl:first [
                rdf:type swrl:DatavaluedPropertyAtom ;
                swrl:argument1 tourism:attraction ;
                swrl:argument2 tourism:minAge ;
                swrl:argument3 tourism:hasMinAge
            ] ;
            swrl:rest [
                rdf:type swrl:AtomList ;
                swrl:first [
                    rdf:type swrl:BuiltinAtom ;
                    swrl:argument1 tourism:minAge ;
                    swrl:argument2 12 ;
                    swrl:argument3 swrlb:greaterThan
                ] ;
                swrl:rest rdf:nil
            ]
        ]
    ] ;
    swrl:head [
        rdf:type swrl:AtomList ;
        swrl:first [
            rdf:type swrl:IndividualAtom ;
            swrl:argument1 tourism:attraction ;
            swrl:argument2 tourism:NotFamilyFriendlyAttraction
        ] ;
        swrl:rest rdf:nil
    ] .

# Rule 4: Coastal Family Destination Rule
# CoastalCity + FamilyFriendlyAttraction + Rating >= 4.5 => CoastalFamilyDestination
rules:CoastalFamilyDestinationRule rdf:type swrl:Imp ;
    swrl:body [
        rdf:type swrl:AtomList ;
        swrl:first [
            rdf:type swrl:IndividualAtom ;
            swrl:argument1 tourism:city ;
            swrl:argument2 tourism:CoastalCity
        ] ;
        swrl:rest [
            rdf:type swrl:AtomList ;
            swrl:first [
                rdf:type swrl:IndividualAtom ;
                swrl:argument1 tourism:attraction ;
                swrl:argument2 tourism:FamilyFriendlyAttraction
            ] ;
            swrl:rest [
                rdf:type swrl:AtomList ;
                swrl:first [
                    rdf:type swrl:ObjectPropertyAtom ;
                    swrl:argument1 tourism:attraction ;
                    swrl:argument2 tourism:city ;
                    swrl:argument3 tourism:locatedIn
                ] ;
                swrl:rest [
                    rdf:type swrl:AtomList ;
                    swrl:first [
                        rdf:type swrl:DatavaluedPropertyAtom ;
                        swrl:argument1 tourism:attraction ;
                        swrl:argument2 tourism:rating ;
                        swrl:argument3 tourism:hasRating
                    ] ;
                    swrl:rest [
                        rdf:type swrl:AtomList ;
                        swrl:first [
                            rdf:type swrl:BuiltinAtom ;
                            swrl:argument1 tourism:rating ;
                            swrl:argument2 4.5 ;
                            swrl:argument3 swrlb:greaterThanOrEqual
                        ] ;
                        swrl:rest rdf:nil
                    ]
                ]
            ]
        ]
    ] ;
    swrl:head [
        rdf:type swrl:AtomList ;
        swrl:first [
            rdf:type swrl:IndividualAtom ;
            swrl:argument1 tourism:destination ;
            swrl:argument2 tourism:CoastalFamilyDestination
        ] ;
        swrl:rest [
            rdf:type swrl:AtomList ;
            swrl:first [
                rdf:type swrl:ObjectPropertyAtom ;
                swrl:argument1 tourism:destination ;
                swrl:argument2 tourism:city ;
                swrl:argument3 tourism:hasCity
            ] ;
            swrl:rest [
                rdf:type swrl:AtomList ;
                swrl:first [
                    rdf:type swrl:ObjectPropertyAtom ;
                    swrl:argument1 tourism:destination ;
                    swrl:argument2 tourism:attraction ;
                    swrl:argument3 tourism:hasPrimaryAttraction
                ] ;
                swrl:rest rdf:nil
            ]
        ]
    ] .

# Rule 5: Contradiction Detection Rule
# FamilyFriendlyAttraction AND NotFamilyFriendlyAttraction => Contradiction
rules:ContradictionDetectionRule rdf:type swrl:Imp ;
    swrl:body [
        rdf:type swrl:AtomList ;
        swrl:first [
            rdf:type swrl:IndividualAtom ;
            swrl:argument1 tourism:entity ;
            swrl:argument2 tourism:FamilyFriendlyAttraction
        ] ;
        swrl:rest [
            rdf:type swrl:AtomList ;
            swrl:first [
                rdf:type swrl:IndividualAtom ;
                swrl:argument1 tourism:entity ;
                swrl:argument2 tourism:NotFamilyFriendlyAttraction
            ] ;
            swrl:rest rdf:nil
        ]
    ] ;
    swrl:head [
        rdf:type swrl:AtomList ;
        swrl:first [
            rdf:type swrl:IndividualAtom ;
            swrl:argument1 tourism:entity ;
            swrl:argument2 tourism:Contradiction
        ] ;
        swrl:rest rdf:nil
    ] .

# SWRL-only reasoning rules for clarity in POC
# All reasoning is now handled by SWRL rules above
